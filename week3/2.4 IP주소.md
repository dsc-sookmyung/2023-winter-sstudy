## 2.4 IP주소

---

### 2.4.1 ARP

- 정의
    - Address Resolution Protocol
    - MAC 주소를 구하는 IP + MAC 주소의 다리 역할을 하는 프로토콜
- 방식
    - ARP : IP 주소(가상주소) → MAC 주소(실제주소) 로 변환
    - RARP :  MAC 주소(실제주소) →  IP 주소(가상주소) 로 변환
    - 유니캐스트를 통해 MAC 주소 반환

> 브로드캐스트 : 송신 호스트가 전송한 데이터가 네트워크에 연결된 모든 호스트에 전송되는 방식
> 

> 유니캐스트 : 고유 주소로 식별된 하나의 네트워크 목적지에 1:1 로 데이터를 전송하는 방식
> 

### 2.4.2 홉바이홉 통신

- 정의
    - hop by hop
    - IP 주소를 통해 통신하는 과정
- 방식
    - 패킷이 여러 개의 라우터를 건너감
    - 라우터의 라우팅 테이블 IP를 기반으로 패킷 전달
    - 라우팅을 수행해가며 최종 목적지에 패킷 전달하는 방식

**⚠️ 라우팅 테이블**

- 송신지에서 수신지까지 도달하기 위해 사용
- 라우터가 들어가 있는 목적지 정보와 가는 방법이 들어 있는 리스트
- 게이트웨이와 목적지에 도달하기 위한 다음 라우터 정보를 가지고 있음

**⚠️ 게이트웨이**

- 서로 다른 통신망, 프로토콜을 사용하는 네트워크 간의 통신을 가능하게 하는 역할
- 인터넷에 접속하기 위해 수많은 게이트 웨이 거침
- 서로 다른 네트워크 상의 통신 프로토콜을 변환해주는 역할
- 라우팅 테이블을 통해 볼 수 있음

### 2.4.3 IP 주소 체계

**⚠️ IPv4 vs IPv6**

- IPv4 : 32비트를 8비트 단위로 점을 찍어 표기
- IPv6 : 64비트를 16비트 단위로 점을 찍어 표기

- 클래스 기반 할당 방식
    - A,B,C,D,E 5개의 클래스로 구분하는 방식
        - A,B,C - 일대일 통신으로 사용
        - D - 멀티캐스트 통신
        - E - 예비용
    - 앞 부분(네트워크 주소) - 뒷 부분(컴퓨터에 부여하는 호스트 주소)
    - 네트워크 첫번째 주소 = 네트워크 주소
    - 네트워크 마지막 주소 = 브로드캐스트용 주소
    - 사용하는 주소보다 버리는 주소가 많다는 단점
    
- DHCP
    - Dynamic Host Configuration Protocol
    - IP 주소 및 기타 통신 매개변수를 자동으로 할당하기 위한 네트워크 관리 프로토콜
    - 인터넷에 접속할 때 마다 자동으로 IP 주소 할당
    - 많은 라우터와 게이트웨이 장비에 DHCP 기능 존재
- NAT
    - 의미
        - Network Address Translation
        - 패킷의 IP 주소 정보 수정하여 IP 주소를 다른 주소로 매핑하는 방법
    - 동작
        - 패킷이 라우팅 장치를 통해 전송되는 동안 동작
        - 공인 IP와 사설 IP로 나눠서 많은 주소 처리
        - 여러 대의 호스트가 하나의 공인 IP 주소를 사용 하여 인터넷에 접속하기 위해 사용
    - 보안
        - 내부 네트워크에서 사용하는 IP 주소와 외부에 드러나는 IP 주소를 다르게 유지하여 보안 유지 가능
    - 단점
        - 실제 접속하는 호스트 숫자에 따라 접속 속도가 느려질 수 있음
